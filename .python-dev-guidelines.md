# Directives de développement Python

Ce fichier contient les bonnes pratiques à suivre pour le développement Python dans ce projet.

## Gestion des logs

- Utiliser le module `logging` configuré dans `src/services/logs.py`
- Niveaux de log en ordre de priorité : DEBUG, INFO, WARNING, ERROR, CRITICAL
- Toujours utiliser des messages descriptifs en français

### Exemples :

```python
logger.debug("Démarrage de la fonction de traitement")
logger.info("Utilisateur connecté avec succès")
logger.warning("Tentative de connexion avec un email invalide")
logger.error("Échec de connexion à la base de données")
logger.critical("Service indisponible")
```

## Gestion des erreurs

- Toujours utiliser des blocs `try-except` spécifiques
- Logger les erreurs avec le niveau approprié
- Lever des exceptions personnalisées quand nécessaire
- Ne jamais ignorer silencieusement une exception

### Exemples :

```python
try:
    # Code pouvant lever une exception
    pass
except ValueError as e:
    logger.error(f"Erreur de valeur : {e}")
    raise
except Exception as e:
    logger.critical(f"Erreur inattendue : {e}")
    raise
```

## Conventions de nommage

### Méthodes et fonctions :
- **Publiques** : `snake_case` sans préfixe
- **Privées** : préfixe avec un underscore `_methode_privee`
- **Très privées** : préfixe avec deux underscores `__methode_tres_privee`

### Variables :
- **Publiques** : `snake_case`
- **Privées** : préfixe avec un underscore `_variable_privee`
- **Constantes** : `MAJUSCULES_AVEC_UNDERSCORES`

### Classes :
- **Publiques** : `PascalCase`
- **Privées** : préfixe avec un underscore `_ClassePrivee`

## Structure des classes

```python
class ExempleClasse:
    """Docstring de la classe."""
    
    CONSTANTE_CLASSE = "valeur"
    
    def __init__(self):
        """Constructeur."""
        self.attribut_public = "valeur"
        self._attribut_prive = "valeur"
        self.__attribut_tres_prive = "valeur"
    
    def methode_publique(self):
        """Méthode accessible de l'extérieur."""
        pass
    
    def _methode_privee(self):
        """Méthode pour usage interne."""
        pass
    
    def __methode_tres_privee(self):
        """Méthode avec name mangling."""
        pass
```

## Documentation

- Utiliser des docstrings pour toutes les classes et méthodes publiques
- Format Google ou NumPy pour les docstrings
- Commenter le code complexe en français
- Maintenir le README.md à jour

### Exemple de docstring :

```python
def calculer_moyenne(valeurs: list) -> float:
    """
    Calcule la moyenne arithmétique d'une liste de valeurs.
    
    Args:
        valeurs (list): Liste des valeurs numériques
        
    Returns:
        float: La moyenne des valeurs
        
    Raises:
        ValueError: Si la liste est vide
    """
    pass
```

## Imports

- Imports standards en premier
- Imports tiers ensuite  
- Imports locaux en dernier
- Une ligne vide entre chaque groupe
- Éviter les imports `*`

### Exemple :

```python
# Imports standards
import os
import sys
from pathlib import Path

# Imports tiers
import requests
from flask import Flask

# Imports locaux
from src.services.logs import get_logger
from src.app.application import Application
```

## Tests

- Un fichier de test par module : `test_nom_module.py`
- Noms de fonctions de test descriptifs : `test_should_return_true_when_valid_input`
- Utiliser des assertions claires
- Mocker les dépendances externes

## Performance

- Utiliser des list comprehensions quand approprié
- Éviter les boucles inutiles
- Profiler le code en cas de problème de performance
- Documenter les optimisations complexes
